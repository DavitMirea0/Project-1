<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ - –í–µ—á–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å, –ú–∞—Ç—Ä–∏—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –Ω–∞ C#, Qt">
    <title>–ü—Ä–æ–µ–∫—Ç—ã - –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –î–∞–≤–∏–¥–∞ –•–∞—á–∞—Ç—Ä—è–Ω–∞</title>
    <link rel="stylesheet" href="../styles/styles.css">
</head>
<body>
    <div class="page">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header__content">
                    <div class="header__logo">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" aria-hidden="true">
                            <circle cx="12" cy="8" r="6" fill="#FF7262"/>
                            <circle cx="28" cy="8" r="6" fill="#A259FF"/>
                            <circle cx="12" cy="20" r="6" fill="#1ABCFE"/>
                            <circle cx="28" cy="20" r="6" fill="#0ACF83"/>
                            <circle cx="12" cy="32" r="6" fill="#F24E1E"/>
                        </svg>
                        <span class="header__brand">Figma</span>
                    </div>
                    <h1 class="header__title">–•–∞—á–∞—Ç—Ä—è–Ω –î–∞–≤–∏–¥ –ö–∞—Ä–µ–Ω–æ–≤–∏—á</h1>
                </div>
            </div>
        </header>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å–∞–π—Ç–∞">
            <div class="container">
                <ul class="nav__list">
                    <li class="nav__item">
                        <a href="../index.html" class="nav__link">–ì–ª–∞–≤–Ω–∞—è</a>
                    </li>
                    <li class="nav__item nav__item--active">
                        <a href="projects.html" class="nav__link" aria-current="page">–ü—Ä–æ–µ–∫—Ç—ã</a>
                    </li>
                    <li class="nav__item">
                        <a href="diary.html" class="nav__link">–î–Ω–µ–≤–Ω–∏–∫</a>
                    </li>
                    <li class="nav__item">
                        <a href="contacts.html" class="nav__link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Main -->
        <main class="main" id="main-content">
            <div class="projects-page-content">
                <div class="projects-header">
                    <h2 class="projects-title">–ú–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã</h2>
                    <p class="projects-description">
                        –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å–æ–±—Ä–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —É—á–µ–±–Ω—ã—Ö –∏ –ª–∏—á–Ω—ã—Ö —Ä–∞–±–æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞.<br>
                        –ü—Ä–æ–µ–∫—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é —Å–µ—Ç–∫—É, –≥–¥–µ –∫–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.
                    </p>
                    
                    <!-- LIGHTHOUSE: –§–∏–ª—å—Ç—Ä—ã –∫–∞–∫ –≥—Ä—É–ø–ø–∞ –∫–Ω–æ–ø–æ–∫ —Å aria-pressed -->
                    <div class="filter-buttons" role="group" aria-label="–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º">
                        <button class="filter-btn active" 
                                data-filter="all" 
                                aria-pressed="true">
                            –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã
                        </button>
                        <button class="filter-btn" 
                                data-filter="C#" 
                                aria-pressed="false">
                            –¢–æ–ª—å–∫–æ C#
                        </button>
                        <button class="filter-btn" 
                                data-filter="Qt" 
                                aria-pressed="false">
                            –¢–æ–ª—å–∫–æ Qt
                        </button>
                    </div>
                </div>

                <!-- –ì–∞–ª–µ—Ä–µ—è –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
                <div class="projects-grid-page adaptive-gallery" role="list" aria-label="–°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤">
                    <!-- –ü—Ä–æ–µ–∫—Ç 1: –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
                    <article class="project-card" 
                             data-category="C#" 
                             data-project="1"
                             tabindex="0"
                             role="listitem">
                        <div class="project-image-wrapper">
                            <picture>
                                <source media="(min-width: 1024px)" 
                                        srcset="../images/project1.png" 
                                        type="image/png">
                                <!-- LIGHTHOUSE: –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–π alt -->
                                <img src="../images/project1.png" 
                                     alt="–°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –í–µ—á–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ C# - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –¥–∞—Ç"
                                     class="project-image responsive-image"
                                     width="300"
                                     height="200"
                                     loading="lazy">
                            </picture>
                            <div class="project-placeholder" aria-hidden="true">üìÜ</div>
                        </div>
                        <div class="project-card-content">
                            <h3>–í–µ—á–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ C#</h3>
                            <p class="project-description">–î–µ—Å–∫—Ç–æ–ø–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è–º–∏.</p>
                            <p class="project-tech">
                                <span class="sr-only">–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</span>
                                C#, WinForms/WPF
                            </p>
                        </div>
                    </article>

                    <!-- –ü—Ä–æ–µ–∫—Ç 2: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä -->
                    <article class="project-card" 
                             data-category="C#" 
                             data-project="4"
                             tabindex="0"
                             role="listitem">
                        <div class="project-image-wrapper">
                            <picture>
                                <source media="(min-width: 1024px)" 
                                        srcset="../images/project2.png" 
                                        type="image/png">
                                <img src="../images/project2.png" 
                                     alt="–°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ú–∞—Ç—Ä–∏—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Ç—Ä–∏—Ü–∞–º–∏"
                                     class="project-image responsive-image"
                                     width="300"
                                     height="200"
                                     loading="lazy">
                            </picture>
                            <div class="project-placeholder" aria-hidden="true">üßÆ</div>
                        </div>
                        <div class="project-card-content">
                            <h3>–ú–∞—Ç—Ä–∏—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h3>
                            <p class="project-description">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–∞—Ç—Ä–∏—Ü–∞–º–∏: —Å–ª–æ–∂–µ–Ω–∏–µ, —É–º–Ω–æ–∂–µ–Ω–∏–µ, —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.</p>
                            <p class="project-tech">
                                <span class="sr-only">–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</span>
                                C#, WinForms/WPF
                            </p>
                        </div>
                    </article>

                    <!-- –ü—Ä–æ–µ–∫—Ç 3: –ü–æ–≥–æ–¥–∞ -->
                    <article class="project-card" 
                             data-category="Qt" 
                             data-project="5"
                             tabindex="0"
                             role="listitem">
                        <div class="project-image-wrapper">
                            <picture>
                                <source media="(min-width: 1024px)" 
                                        srcset="../images/project3.png" 
                                        type="image/png">
                                <img src="../images/project3.png" 
                                     alt="–°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –Ω–∞ Qt - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥—ã –∏ –ø—Ä–æ–≥–Ω–æ–∑–∞"
                                     class="project-image responsive-image"
                                     width="300"
                                     height="200"
                                     loading="lazy">
                            </picture>
                            <div class="project-placeholder" aria-hidden="true">‚õÖ</div>
                        </div>
                        <div class="project-card-content">
                            <h3>–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã</h3>
                            <p class="project-description">–î–µ—Å–∫—Ç–æ–ø–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ OpenMeteo API.</p>
                            <p class="project-tech">
                                <span class="sr-only">–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</span>
                                Qt, C++, OpenMeteoAPI
                            </p>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <!-- 
            LIGHTHOUSE: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–æ–π
            - role="dialog"
            - aria-modal="true"
            - aria-labelledby –¥–ª—è —Å–≤—è–∑–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
        -->
        <div id="projectModal" 
             class="modal"
             role="dialog"
             aria-modal="true"
             aria-labelledby="modalTitle"
             aria-hidden="true"
             tabindex="-1">
            <div class="modal-content">
                <!-- LIGHTHOUSE: –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —Å aria-label -->
                <button class="close" 
                        aria-label="–ó–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ–µ–∫—Ç–µ">&times;</button>
                <h2 id="modalTitle"></h2>
                <p class="modal-tech" id="modalTech"></p>
                <p class="modal-description" id="modalDescription"></p>
                <div class="modal-features">
                    <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</h3>
                    <ul id="modalFeatures" role="list"></ul>
                </div>
                <div class="modal-links">
                    <a href="#" id="liveLink" class="modal-link">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≥–∞–ª–µ—Ä–µ—é</a>
                    <a href="#" id="codeLink" class="modal-link" target="_blank" rel="noopener noreferrer">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</a>
                </div>
            </div>
        </div>

        <!-- –ì–∞–ª–µ—Ä–µ—è -->
        <div id="galleryModal" 
             class="gallery-modal"
             role="dialog"
             aria-modal="true"
             aria-label="–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞"
             aria-hidden="true"
             tabindex="-1">
            <div class="gallery-modal-content">
                <button class="gallery-close" 
                        aria-label="–ó–∞–∫—Ä—ã—Ç—å –≥–∞–ª–µ—Ä–µ—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π">&times;</button>
                
                <div class="gallery-container">
                    <button class="gallery-nav-btn prev" 
                            aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">&#10094;</button>
                    
                    <div class="gallery-image-container">
                        <picture id="galleryPicture">
                            <img id="galleryImage" 
                                 src="" 
                                 alt="–°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–æ–µ–∫—Ç–∞"
                                 class="responsive-image gallery-main-image"
                                 style="object-fit: contain;">
                        </picture>
                        <!-- LIGHTHOUSE: aria-live –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å—á—ë—Ç—á–∏–∫–∞ -->
                        <div class="gallery-image-counter" aria-live="polite" aria-atomic="true">
                            <span id="currentImage">1</span> / <span id="totalImages">0</span>
                        </div>
                    </div>
                    
                    <button class="gallery-nav-btn next" 
                            aria-label="–ü–æ–∫–∞–∑–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">&#10095;</button>
                </div>
                
                <div class="gallery-thumbnails adaptive-thumbnails" 
                     id="galleryThumbnails"
                     role="list"
                     aria-label="–ú–∏–Ω–∏–∞—Ç—é—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞"></div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer__content">
                    <p class="footer__copyright">&copy; 2025 –•–∞—á–∞—Ç—Ä—è–Ω –î–∞–≤–∏–¥ –ö–∞—Ä–µ–Ω–æ–≤–∏—á</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
        const projectsData = {
            1: {
                title: "–í–µ—á–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ C#",
                description: "–î–µ—Å–∫—Ç–æ–ø–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ –∑–∞–º–µ—Ç–∫–∞–º–∏.",
                tech: "C#, WinForms/WPF",
                features: [
                    "–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞ –ª—é–±–æ–π –≥–æ–¥",
                    "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ –∫ –¥–∞—Ç–∞–º",
                    "–í—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –¥–Ω–µ–π",
                    "–ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –º–µ—Å—è—Ü–∞–º–∏"
                ],
                liveLink: "#",
                codeLink: "#"
            },
            4: {
                title: "–ú–∞—Ç—Ä–∏—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
                description: "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–∞—Ç—Ä–∏—Ü–∞–º–∏.",
                tech: "C#, WinForms/WPF",
                features: [
                    "–°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü",
                    "–£–º–Ω–æ–∂–µ–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü",
                    "–¢—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",
                    "–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—è"
                ],
                liveLink: "#",
                codeLink: "#"
            },
            5: {
                title: "–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã",
                description: "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ OpenMeteo API.",
                tech: "Qt, C++, OpenMeteoAPI",
                features: [
                    "–¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –≥–æ—Ä–æ–¥–µ",
                    "–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π",
                    "–ì—Ä–∞—Ñ–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã",
                    "–ü–æ–∏—Å–∫ –ø–æ –≥–æ—Ä–æ–¥–∞–º"
                ],
                liveLink: "#",
                codeLink: "#"
            }
        };

        const projectImages = {
            1: ['../images/project1.png'],
            4: ['../images/project2.png'],
            5: ['../images/project3.png']
        };

        let currentProjectId = null;
        let currentImageIndex = 0;
        let previousActiveElement = null;

        function getUrlParameter(name) {
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // LIGHTHOUSE: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        function openProjectModal(projectId) {
            const project = projectsData[projectId];
            if (!project) return;

            currentProjectId = projectId;
            previousActiveElement = document.activeElement;
            
            document.getElementById('modalTitle').textContent = project.title;
            document.getElementById('modalTech').textContent = project.tech;
            document.getElementById('modalDescription').textContent = project.description;
            
            const featuresList = document.getElementById('modalFeatures');
            featuresList.innerHTML = '';
            project.features.forEach(feature => {
                const li = document.createElement('li');
                li.textContent = feature;
                featuresList.appendChild(li);
            });
            
            document.getElementById('liveLink').href = project.liveLink;
            document.getElementById('codeLink').href = project.codeLink;
            
            const modal = document.getElementById('projectModal');
            modal.style.display = 'block';
            modal.removeAttribute('aria-hidden');
            document.body.style.overflow = 'hidden';
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ñ–æ–Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–∞
            document.querySelectorAll('body > *:not(#projectModal):not(#galleryModal)').forEach(el => {
                if (!el.hasAttribute('aria-hidden')) {
                    el.setAttribute('aria-hidden', 'true');
                    el.setAttribute('data-was-hidden', 'false');
                }
            });
            
            // –§–æ–∫—É—Å –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è
            setTimeout(() => {
                modal.querySelector('.close').focus();
            }, 100);
        }

        function closeProjectModal() {
            const modal = document.getElementById('projectModal');
            modal.style.display = 'none';
            modal.setAttribute('aria-hidden', 'true');
            document.body.style.overflow = 'auto';
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å
            document.querySelectorAll('[data-was-hidden="false"]').forEach(el => {
                el.removeAttribute('aria-hidden');
                el.removeAttribute('data-was-hidden');
            });
            
            if (previousActiveElement) {
                previousActiveElement.focus();
            }
        }

        function openGallery(e) {
            e.preventDefault();
            if (!currentProjectId || !projectImages[currentProjectId]) return;
            
            previousActiveElement = document.activeElement;
            
            const galleryModal = document.getElementById('galleryModal');
            galleryModal.style.display = 'block';
            galleryModal.removeAttribute('aria-hidden');
            
            loadGalleryThumbnails();
            showGalleryImage(0);
            
            setTimeout(() => {
                galleryModal.querySelector('.gallery-close').focus();
            }, 100);
        }

        function closeGallery() {
            const galleryModal = document.getElementById('galleryModal');
            galleryModal.style.display = 'none';
            galleryModal.setAttribute('aria-hidden', 'true');
            
            if (previousActiveElement) {
                previousActiveElement.focus();
            }
        }

        function loadGalleryThumbnails() {
            const thumbnailsContainer = document.getElementById('galleryThumbnails');
            thumbnailsContainer.innerHTML = '';
            
            const images = projectImages[currentProjectId];
            document.getElementById('totalImages').textContent = images.length;
            
            images.forEach((imagePath, index) => {
                const picture = document.createElement('picture');
                const img = document.createElement('img');
                img.src = imagePath;
                img.alt = `–ú–∏–Ω–∏–∞—Ç—é—Ä–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ ${index + 1}`;
                img.loading = 'lazy';
                img.className = 'responsive-image thumbnail-image';
                img.tabIndex = 0;
                img.setAttribute('role', 'button');
                img.setAttribute('aria-label', `–ü–æ–∫–∞–∑–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç ${index + 1} –∏–∑ ${images.length}`);
                img.onclick = () => showGalleryImage(index);
                img.onkeydown = (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        showGalleryImage(index);
                    }
                };
                
                picture.appendChild(img);
                thumbnailsContainer.appendChild(picture);
            });
        }

        function showGalleryImage(index) {
            const images = projectImages[currentProjectId];
            
            if (index < 0) index = images.length - 1;
            if (index >= images.length) index = 0;
            
            currentImageIndex = index;
            
            const img = document.getElementById('galleryImage');
            img.src = images[index];
            img.alt = `–°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–æ–µ–∫—Ç–∞ ${index + 1} –∏–∑ ${images.length}`;
            
            document.getElementById('currentImage').textContent = index + 1;
            
            const thumbnails = document.querySelectorAll('.gallery-thumbnails img');
            thumbnails.forEach((thumb, i) => {
                if (i === index) {
                    thumb.classList.add('active');
                    thumb.setAttribute('aria-current', 'true');
                } else {
                    thumb.classList.remove('active');
                    thumb.removeAttribute('aria-current');
                }
            });
        }

        function changeImage(direction) {
            showGalleryImage(currentImageIndex + direction);
        }

        // LIGHTHOUSE: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å aria-pressed
        function filterProjects(category, button) {
            const projects = document.querySelectorAll('.project-card');
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.setAttribute('aria-pressed', 'false');
            });
            
            button.classList.add('active');
            button.setAttribute('aria-pressed', 'true');
            
            let visibleCount = 0;
            projects.forEach(project => {
                const isVisible = category === 'all' || project.dataset.category === category;
                project.style.display = isVisible ? 'block' : 'none';
                if (isVisible) visibleCount++;
            });
            
            // –ê–Ω–æ–Ω—Å –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–≤
            const announcement = document.createElement('div');
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
            announcement.textContent = `–ü–æ–∫–∞–∑–∞–Ω–æ –ø—Ä–æ–µ–∫—Ç–æ–≤: ${visibleCount}`;
            document.body.appendChild(announcement);
            setTimeout(() => announcement.remove(), 1000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            const projectId = getUrlParameter('project');
            if (projectId) {
                openProjectModal(projectId);
            }

            // –ö–ª–∏–∫–∏ –∏ Enter/Space –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
            document.querySelectorAll('.project-card').forEach(card => {
                card.addEventListener('click', function() {
                    openProjectModal(this.dataset.project);
                });
                
                card.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        openProjectModal(this.dataset.project);
                    }
                });
            });
            
            // –§–∏–ª—å—Ç—Ä—ã
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    filterProjects(this.dataset.filter, this);
                });
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            document.querySelector('.close')?.addEventListener('click', closeProjectModal);
            document.getElementById('projectModal')?.addEventListener('click', function(e) {
                if (e.target === this) closeProjectModal();
            });

            // –ì–∞–ª–µ—Ä–µ—è
            document.getElementById('liveLink')?.addEventListener('click', openGallery);
            document.querySelector('.gallery-close')?.addEventListener('click', closeGallery);
            document.getElementById('galleryModal')?.addEventListener('click', function(e) {
                if (e.target === this) closeGallery();
            });

            document.querySelector('.gallery-nav-btn.prev')?.addEventListener('click', () => changeImage(-1));
            document.querySelector('.gallery-nav-btn.next')?.addEventListener('click', () => changeImage(1));
            
            // LIGHTHOUSE: –û–±—Ä–∞–±–æ—Ç–∫–∞ Escape –∏ —Å—Ç—Ä–µ–ª–æ–∫
            document.addEventListener('keydown', function(e) {
                const galleryModal = document.getElementById('galleryModal');
                const projectModal = document.getElementById('projectModal');
                
                if (galleryModal.style.display === 'block') {
                    if (e.key === 'ArrowLeft') changeImage(-1);
                    else if (e.key === 'ArrowRight') changeImage(1);
                    else if (e.key === 'Escape') closeGallery();
                } else if (projectModal.style.display === 'block') {
                    if (e.key === 'Escape') closeProjectModal();
                }
            });
        });
    </script>
</body>
</html>